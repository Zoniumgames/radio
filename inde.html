<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Radio Minimalista</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-color: #423f3f;
      --radio-bg: #a39e9e;
      --panel-border: #555151;
      --text-primary: #706e6e;
      --accent-color: #4fc3f7;
      --light-on: #ff5252;
      --light-off: #3d3d3d;
    }

    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background: var(--bg-color);
      color: var(--text-primary);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
    }

    .radio-container {
      width: 800px;
      height: 350px;
      background: var(--radio-bg);
      border-radius: 16px;
      border: 1px solid var(--panel-border);
      box-shadow: 0 0 50px rgba(0, 0, 0, 0.4);
      display: flex;
      padding: 20px;
    }

    .display-panel {
      flex-basis: 60%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-right: 20px;
      border-right: 1px solid var(--panel-border);
    }

    .controls-panel {
      flex-basis: 40%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
    }
    
    .station-display {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
      display: flex;
      justify-content: center;
      /* === LA CORRECCIÓN ESTÁ AQUÍ === */
      align-items: flex-start; /* Se cambió de 'center' a 'flex-start' */
      -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 25%, black 75%, transparent 100%);
      mask-image: linear-gradient(to bottom, transparent 0%, black 25%, black 75%, transparent 100%);
    }

    .station-list {
      transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1.0);
    }

    .station-item {
      height: 105px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: all 0.5s ease;
      opacity: 0.4;
      transform: scale(0.8);
    }

    .station-item.active {
      opacity: 1;
      transform: scale(1);
    }

    .station-logo {
      max-height: 60px;
      margin-bottom: 10px;
      object-fit: contain;
      filter: grayscale(80%);
      transition: all 0.5s ease;
    }
    .station-item.active .station-logo {
      filter: grayscale(0%);
      transform: scale(1.1);
    }
    
    .station-name {
      font-family: 'Roboto', sans-serif;
      font-size: 1.2em;
      color: var(--text-primary);
      text-shadow: 0 0 8px rgba(224, 224, 224, 0.5);
    }

    .station-nav {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }
    
    .nav-button {
      background: none;
      border: 2px solid var(--panel-border);
      color: var(--text-primary);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .nav-button:hover {
      border-color: var(--accent-color);
      color: var(--accent-color);
      box-shadow: 0 0 10px var(--accent-color);
    }
    .nav-button svg {
      width: 24px;
      height: 24px;
      stroke: currentColor;
      transition: stroke 0.2s ease;
    }

    .main-controls {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
    }

    #powerButton {
      width: 80px;
      height: 80px;
      background-color: #2a2a2a;
    }
    #powerButton.on {
      border-color: var(--accent-color);
      color: var(--accent-color);
    }
    #powerButton svg {
      width: 40px;
      height: 40px;
    }

    #powerLight {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: var(--light-off);
      transition: all 0.3s ease;
    }
    #powerLight.on {
      background: var(--light-on);
      box-shadow: 0 0 8px var(--light-on), 0 0 12px var(--light-on);
    }
    
    .volume-control {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    input[type="range"] {
      -webkit-appearance: none; appearance: none;
      width: 150px;
      height: 4px;
      background: var(--panel-border);
      border-radius: 5px;
      cursor: pointer;
      transform: rotate(-90deg);
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none;
      width: 20px; height: 20px;
      background: var(--text-primary);
      border-radius: 50%;
      transition: background 0.2s;
    }
    input[type="range"]::-webkit-slider-thumb:hover { background: var(--accent-color); }
    .volume-label {
        font-size: 0.8em;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
  </style>
</head>
<body>

  <div class="radio-container">
    <div class="display-panel">
      <div class="station-display">
        <div class="station-list" id="stationList">
          <!-- Estaciones generadas por JS -->
        </div>
      </div>
    </div>
    <div class="controls-panel">
        <div class="station-nav">
            <button class="nav-button" onclick="prevStation()" title="Estación Anterior">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>
            </button>
            <button class="nav-button" onclick="nextStation()" title="Siguiente Estación">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
            </button>
        </div>
        <div class="main-controls">
            <button class="nav-button" id="powerButton" onclick="togglePower()" title="Encender/Apagar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line></svg>
            </button>
            <div id="powerLight"></div>
        </div>
        <div class="volume-control">
            <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="0.3">
            <div class="volume-label"></div>
        </div>
    </div>
  </div>

  <audio id="radioAudio"></audio>

  <script>
    const stations = [
      {
        name: "Echo 88 FM",
        logo: "assets/images/logoecho.png",
        startDate: new Date('2025-06-19T07:00:00'),
        audios: [
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/echo1/synth.mp3", duration: 8453.496 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/echo2/synth2.mp3", duration: 8108.64 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/echo3/synth3.mp3", duration: 7662.744 }
        ]
      },
      {
        name: "San Juan Sounds",
        logo: "assets/images/sanjuan.webp",
        startDate: new Date('2025-06-20T08:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/Song/sanjuan.mp3", duration: 3941.544 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/sj1/regeton1.mp3", duration: 5597.064 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/sj2/regeton2.mp3", duration: 6470.04 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/sj3/regeton3.mp3", duration: 5731.056 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/sj4/regeton4.mp3", duration: 5699.04 }
         ]
      },
      {
        name: "El Vacilón 106.3 FM",
        logo: "assets/images/vacilon-fm.png",
        startDate: new Date('2025-06-20T09:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/vacilon1/vacilon1.mp3", duration: 9009.168 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/vacilon2/vacilon2.mp3", duration: 5864.52 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/vacilon3/vacilon3.mp3", duration: 2482.056 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/vacilon4/vacilon4.mp3", duration: 1223.808 }
         ]
      },
      {
        name: "Ranchera 106.5",
        logo: "assets/images/ranchera.png",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/Ranch/Ranchera.mp3", duration: 8403.304475 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/Ranch2/Ranchera2.mp3", duration: 4104.048 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/Ranch3/Ranchera3.mp3", duration: 5197.56 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/Ranch4/Ranchera4.mp3", duration: 948.744 }
         ]
      },
      {
        name: "Rock Radio",
        logo: "assets/images/rock.webp",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rock/rock.mp3", duration: 10553.352 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rock2/rock2.mp3", duration: 4718.736 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rock3/rock3.mp3", duration: 4374.96 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rock4/rock4.mp3", duration: 8391.192 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rock5/rock5.mp3", duration: 4165.416 }
        ]
      },
      {
        name: "Mundo Rock",
        logo: "assets/images/rockes.png",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rockespanol/rockespanol.mp3", duration: 5532 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rockespanol2/rockespanol2.mp3", duration: 7425.48 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/rockespanol3/rockespanol3.mp3", duration: 8373.768 }
        ]
      },
      {
        name: "FlashBack FM",
        logo: "assets/images/flashback.webp",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/flash/flash.mp3", duration: 7584.576 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/flash2/flash2.mp3", duration: 6771.816 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/flash3/flash3.mp3", duration: 4368.432 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/flash4/flash4.mp3", duration: 9624.12 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/flash5/flash5.mp3", duration: 3798.648 }
        ]
      },
      {
        name: "Classical 98.1 fm",
        logo: "assets/images/clasic.png",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/class/class.mp3", duration: 9687.528 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/class2/class2.mp3", duration: 1592.736 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/class3/class3.mp3", duration: 8078.712 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/class4/class4.mp3", duration: 7216.752    }
        ]
      },
      {
        name: "Spinnin' Sessions Radio",
        logo: "assets/images/aver.png",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/groove/groove.mp3", duration: 8972.28 },
          { url: "https://github.com/Zoniumgames/gta-radio/releases/download/groove2/groove2.mp3", duration: 7240.92 }
        ]
      },
      {
        name: "Real Roots Radio",
        logo: "assets/images/420.png",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "", duration: 28800 },
          { url: "", duration: 28800 },
          { url: "", duration: 28800 },
          { url: "", duration: 28800 } 
        ]
      },
      {
        name: "Prayer FM",
        logo: "assets/images/coming.jpg",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "", duration: 28800 },
          { url: "", duration: 28800 },
          { url: "", duration: 28800 },
          { url: "", duration: 28800 } 
        ]
      },
      {
        name: "West Coast Radio",
        logo: "assets/images/coming.jpg",
        startDate: new Date('2025-06-20T10:00:00'),
        audios: [ 
          { url: "", duration: 28800 },
          { url: "", duration: 28800 },
          { url: "", duration: 28800 },
          { url: "", duration: 28800 } 
        ]
      }
    ];

    let currentStation = 0;
    let power = false;

    const audio = document.getElementById('radioAudio');
    const stationList = document.getElementById('stationList');
    const powerLight = document.getElementById('powerLight');
    const powerButton = document.getElementById('powerButton');
    const volumeControl = document.getElementById('volumeControl');

    audio.volume = volumeControl.value;
    volumeControl.addEventListener('input', (e) => { audio.volume = e.target.value; });

    function updateStationList() {
      stationList.innerHTML = '';
      stations.forEach((station, index) => {
        const item = document.createElement('div');
        item.className = 'station-item' + (index === currentStation ? ' active' : '');
        const img = document.createElement('img');
        img.src = station.logo;
        img.alt = station.name;
        img.className = 'station-logo';
        const name = document.createElement('div');
        name.className = 'station-name';
        name.textContent = station.name;
        item.appendChild(img);
        item.appendChild(name);
        stationList.appendChild(item);
      });

      const itemHeight = 105;
      const displayHeight = stationList.parentElement.clientHeight;
      const offset = (displayHeight / 2) - (itemHeight / 2) - (itemHeight * currentStation);
      stationList.style.transform = `translateY(${offset}px)`;
    }

    function playCurrentStation() {
      if (!power) return;
      
      const station = stations[currentStation];
      const now = new Date();
      const elapsed = Math.floor((now - new Date(station.startDate)) / 1000);
      const totalDuration = station.audios.reduce((a, b) => a + b.duration, 0);
      let timeInCycle = elapsed % totalDuration;

      let index = 0;
      while (timeInCycle >= station.audios[index].duration) {
        timeInCycle -= station.audios[index].duration;
        index++;
      }

      const selected = station.audios[index];
      if (audio.src !== selected.url) {
        audio.src = selected.url;
      }
      audio.currentTime = timeInCycle;
      audio.play().catch(e => console.error("Error al reproducir:", e));
    }

    function togglePower() {
      power = !power;
      powerLight.classList.toggle('on', power);
      powerButton.classList.toggle('on', power);
      if (power) {
        playCurrentStation();
      } else {
        audio.pause();
        audio.src = "";
      }
    }

    function nextStation() {
      currentStation = (currentStation + 1) % stations.length;
      updateStationList();
      if (power) playCurrentStation();
    }

    function prevStation() {
      currentStation = (currentStation - 1 + stations.length) % stations.length;
      updateStationList();
      if (power) playCurrentStation();
    }

    updateStationList();
    window.addEventListener('resize', updateStationList); // Re-centra la   lista si la ventana cambia de tamaño
  </script>
</body>
</html>
